# WMSv2 需求清单

## 1. 料位信息管理
- 跟踪样品在料盘中的位置，包括样品 ID、料盘编号、时间戳、工序/任务 ID。

## 2. CRUD 和批量操作
- 支持料盘和槽位的创建、读取、更新、删除（CRUD）。
- 支持批量更新槽位信息（如样品 ID、料盘编号、工序信息）。

## 3. 槽位索引
- 料盘槽位以索引表示，AGV 料盘 50 个槽位，中转台 60 个槽位。
- 支持查询空槽位、放置样品、清空槽位。

## 4. 数据库设计
- 使用两表结构：
  - `trays`：料盘信息。
  - `material_locations`：槽位信息，关联料盘。

## 5. 通信协议
- 提供 HTTP/REST API，返回 JSON 格式数据。
- 支持料盘管理、槽位操作、样品位置查询。

## 6. 开发语言
- 使用 .NET Core 8 或 Python 开发。

## 7. 本地服务管理
- 支持本地 GUI 管理 HTTP 服务（启动/停止）。
- 支持系统托盘运行，右键菜单控制服务和退出。

## 8. 轻量部署
- 使用 SQLite 数据库，存储在运行目录。
- 打包为单 `.exe` 文件，简化安装。

## 9. GUI 服务管理
- GUI 支持服务启停、开机自启动设置。
- 系统托盘支持最小化、显示窗口、退出。

## 10. CRUD 查询
- GUI 支持按料盘 ID 或样品 ID 查询槽位信息，表格显示结果。

## 11. GUI 扩展
- **批量操作**：支持多选槽位，批量更新样品 ID、料盘编号、工序信息，或清空槽位。
- **禁用槽位**：支持标记槽位为禁用状态（`item_id = "-99"`），禁用槽位在表格中高亮显示。

## 12. 文档
- **API 文档**：描述所有 RESTful 端点（路径、方法、请求/响应格式、错误码）。
- **用户手册**：指导用户安装、运行、操作 GUI 和 API。

## 备注
- 移除原需求点 11（多语言支持），统一中文界面。
- 运行环境：Windows 10。